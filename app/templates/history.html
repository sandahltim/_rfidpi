{% extends "base.html" %}
{% block content %}
<h1>Score History</h1>

<div class="mb-3">
    <label for="monthFilter" class="form-label">Filter by Month:</label>
    <select class="form-control" id="monthFilter" onchange="window.location.href='/history?month_year=' + this.value">
        <option value="">All</option>
        {% for month in months %}
            <option value="{{ month }}" {% if month == month_year %}selected{% endif %}>{{ month }}</option>
        {% endfor %}
    </select>
</div>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Date</th>
            <th>Employee ID</th>
            <th>Changed By</th>
            <th>Points</th>
            <th>Reason</th>
            <th>Month-Year</th>
        </tr>
    </thead>
    <tbody>
        {% for entry in history %}
        <tr>
            <td>{{ entry.date }}</td>
            <td>{{ entry.employee_id }}</td>
            <td>{{ entry.changed_by }}</td>
            <td>{{ entry.points }}</td>
            <td>{{ entry.reason }}</td>
            <td>{{ entry.month_year }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}